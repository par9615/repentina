


/* VALORES EN HEXA PARA MOSTRAR LOS NUMEROS EN EL DISPLAY */

CERO   EQU 040H
UNO    EQU 079H
DOS    EQU 024H
TRES   EQU 030H
CUATRO EQU 019H
CINCO  EQU 012H
SEIS   EQU 003H
SIETE  EQU 078H
OCHO   EQU 000H
NUEVE  EQU 018H

/* DIRECCIONES PARA LOS CALCULOS INTERNOS DE LAS HORAS */

HORC1 EQU 030H
HORC0 EQU 031H
MINC1 EQU 032H
MINC0 EQU 033H
SEGC1 EQU 034H
SEGC0 EQU 035H
HORCAUX EQU 036H

/* SELECTOR DEL DISPLAY */
DISP_SEL EQU 037H

/* DIRECCIONES DEL DISPLAY DE LAS HORAS */
HORD EQU 038H
HORU EQU 039H
MIND EQU 03AH
MINU EQU 03BH
SECD EQU 03CH
SECU EQU 03DH

/*DIRECCIONES DE CONTADORES DE S,M,H */





/* ================= VECTORES DE INTERRUPCION ========================= */
ORG 0000H
	JMP INICIALIZAR
 
ORG 0003H
	JMP IEXT0
	
ORG 000BH
	JMP ITIM0

ORG 0013H
	JMP IEXT1

ORG 001BH
	JMP ITIM1

ORG 002BH
	JMP ITIM2
/* ================= VALORES INICIALES ========================= */

/* VALORES INICIALES DE LA HORA PARA CALCULOS (12:00:00) */
INICIALIZAR : MOV HORC1, #01H
MOV HORC0, #02H
MOV MINC1, #00H
MOV MINC0, #00H
MOV SEGC1, #00H
MOV SEGC0, #00H

/* VALORES INICIALES DE LA HORA PARA EL DISPLAY */
MOV HORD, #UNO
MOV HORU, #DOS
MOV MIND, #CERO
MOV MINU, #CERO
MOV SECD, #CERO
MOV SECU, #CERO

/* ================= TIMER 2 ========================= */
/*DIRECCIONES TIMER 2*/
T2CON EQU 00C8H
RCAP2L EQU 00CAH
RCAP2H EQU 00CBH
TL2 EQU 00CCH
TH2 EQU 00CDH
	

/*INICIALIZAR TIMER 2*/
MOV RCAP2H, #HIGH(-50000); CUENTE 500MS PARTE ALTA
MOV RCAP2L, #LOW(-50000)
MOV TH2, #HIGH(-50000)
MOV TL2, #LOW(-50000)
MOV T2CON, #00000100B


/* ================= TIMER 0 Y 1 ========================= */
/* INICIALIZAR TIMER 0 Y 1
- T0 EN AUTO DE 8, T1 EN AUTO DE 8
- VALORES DE CONTROL
- INTERRUPCIONES
- FALTA IP
*/
MOV TMOD, #22H 
MOV TCON, #00h ; NADA HABILITADO
MOV IE, #10101111B
MOV IP, #00101000B ; PRIORIDAD T2 Y T1







